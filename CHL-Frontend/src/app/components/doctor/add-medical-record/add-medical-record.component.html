<div class="main-container">
    <div id="nav">
        <app-navbar [button]="false" [name]="'Dr Amit Tiwari'"></app-navbar>
    </div>
    <div class="subcontainer">
        <div class="flex-item1">
            <app-sidebar [menus]="menus"></app-sidebar>
        </div>
        <div class="flex-item2">
            <div class="main">
                <div class="search">
                    <div id="text1"><a style="text-decoration:none ; color: #737373;;"
                            [routerLink]="'/doctor-dashboard'">&lt; &nbsp; Back to Dashboard</a></div>
                </div>
                <div class="tabs">
                    <tab-navigation [tabs]="menus1"></tab-navigation>
                </div>
                <div class="search-filter">
                    <div class="left">
                        <div id="sort-by">
                            Add medical record/ prescription
                        </div>
                    </div>
                    <div class="right">
                        <div id="text1"><a style="text-decoration:none ; color: #737373;;"
                                [routerLink]="'/doctor/patient/past-records'">&lt; &nbsp; Previous Page</a></div>
                    </div>
                </div>

                <div class="outline" id="contentToConvert">
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Patient details
                            </div>
                        </div>
                        <div class="right"></div>
                    </div>
                    <div class="outline-2">
                        <div class="form-row">
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Patient ID:</label>
                                    <app-input [userInput]="patient.id" [disabled]="'true'" [ipConfig]="idConfig"
                                        (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>First name:</label>
                                    <app-input [userInput]="patient.firstname" [disabled]="'true'"
                                        [ipConfig]="nameConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Last name:</label>
                                    <app-input [userInput]="patient.lastname" [disabled]="'true'"
                                        [ipConfig]="nameConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Age:</label>
                                    <app-input [userInput]="patient.age" [disabled]="'true'" [ipConfig]="ageConfig"
                                        (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Gender:</label>
                                    <app-dropdown [states]="optionList" [dropConfig]="genderConfig"></app-dropdown>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Contact no:</label>
                                    <app-input [userInput]="patient.phoneNo" [disabled]="'true'"
                                        [userInput]="patient.firstname" [disabled]="'true'" [ipConfig]="contactConfig"
                                        (outputEmit)="''"></app-input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--row 2-->
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Doctor details
                            </div>
                        </div>
                        <div class="right"></div>
                    </div>
                    <div class="outline-2">
                        <div class="form-row">
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Docotr ID:</label>
                                    <app-input [userInput]="doctor.id" [disabled]="'true'" [ipConfig]="idConfig"
                                        (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Doctor name:</label>
                                    <app-input [userInput]="doctor.doctorName" [disabled]="'true'"
                                        [ipConfig]="nameConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Mode:</label>
                                    <app-dropdown [states]="modeList" [dropConfig]="genderConfig"></app-dropdown>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Date:</label>
                                    <app-input [ipConfig]="dateConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Email:</label>
                                    <app-input [userInput]="doctor.email" [disabled]="'true'" [ipConfig]="emailConfig"
                                        (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Contact no:</label>
                                    <app-input [userInput]="doctor.phoneNo" [disabled]="'true'"
                                        [ipConfig]="contactConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--form row 3-->
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Visit summary
                            </div>
                        </div>
                        <div class="right"></div>
                    </div>
                    <div class="outline-2">
                        <div class="form-row-5">
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Facility:</label>
                                    <app-input [ipConfig]="facilityConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Complaints:</label>
                                    <app-input [ipConfig]="complaintConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Severity:</label>
                                    <app-input [ipConfig]="severityConfig" (outputEmit)="pastRecord.severity=$event">
                                    </app-input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--form row 4-->
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Vitals
                            </div>
                        </div>
                        <div class="right"></div>
                    </div>
                    <div class="outline-2">
                        <div class="form-row">
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Height:</label>
                                    <app-input [ipConfig]="heightConfig" (outputEmit)="medicalData.height=$event">
                                    </app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Weight:</label>
                                    <app-input [ipConfig]="weightConfig" (outputEmit)="medicalData.weight=$event">
                                    </app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>BP:</label>
                                    <app-input [ipConfig]="BPConfig" (outputEmit)="medicalData.bloodPressure=$event">
                                    </app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Pulse:</label>
                                    <app-input [ipConfig]="pulseConfig" (outputEmit)="medicalData.pulseRate=$event">
                                    </app-input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--form row 5-->
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Diagnosis
                            </div>
                        </div>
                        <div class="right"></div>
                    </div>
                    <div class="outline-2">
                        <div class="form-row-4">
                            <div class="form-cell">
                                <div class="cell">
                                    <app-input [ipConfig]="diagnosisConfig" (outputEmit)="pastRecord.diagnosis=$event">
                                    </app-input>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--form row 6-->
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Medications prescribed
                            </div>
                        </div>
                        <div class="right">
                            <div>
                                <app-button [btntext]="'Add medication'" [btnConfig]="textBtnConfig2"
                                    (click)="openPopup()"></app-button>
                            </div>
                            <!--Modal starts-->
                            <div>
                                <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
                                    <div class="modal-dialog modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Add Current Medication</h4>
                                            </div>

                                            <div class="modal-body">
                                                <div class="flex-modal">
                                                    <div class="grid-item">
                                                        <label>Medicine:</label>
                                                        <app-input (outputEmit)="medicationData.medicine=$event"
                                                            [ipConfig]="nameConfig">
                                                        </app-input>
                                                    </div>
                                                    <div class="grid-item">
                                                        <label>Dosage:</label>
                                                        <app-input [ipConfig]="nameConfig"
                                                            (outputEmit)="medicationData.dosage=$event">
                                                        </app-input>
                                                    </div>
                                                    <div class="grid-item">
                                                        <label>Starting date:</label>
                                                        <app-input [ipConfig]="dateConfig"
                                                            (outputEmit)="medicationData.startingDate=$event">
                                                        </app-input>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="modal-footer">
                                                <app-button [btntext]="'Save'" [btnConfig]="textBtnConfig"
                                                    (click)="submitNewMedication()"></app-button>
                                                <app-button [btntext]="'Close'" [btnConfig]="textBtnConfig2"
                                                    (click)="closePopup()"></app-button>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--Modal ends-->
                        </div>
                    </div>
                    <div class="outline-2">
                        <div class="table-container">
                            <table>
                                <tr>
                                    <th>Medicine</th>
                                    <th>Dosage</th>
                                    <th>Action</th>
                                </tr>
                                <ng-container *ngFor="let medication of medications">
                                    <tr *ngIf="medication.isCurrent">
                                        <td>{{medication.medicine}}</td>
                                        <td>{{medication.dosage}}</td>
                                        <td>
                                            <app-button [btntext]="'Remove'" [btnConfig]="textBtnConfig"
                                                (click)="removeOrDeleteMedication(medication)"></app-button>
                                        </td>
                                    </tr>
                                </ng-container>

                            </table>
                        </div>
                    </div>
                    <div class="sub-form">
                        <div class="left">
                            <div id="title">
                                Advice
                            </div>
                        </div>
                        <div class="right"></div>
                    </div>
                    <div class="outline-2">
                        <div class="form-row-3">
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Lab tests:</label>
                                    <app-input [ipConfig]="labTestConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                            <div class="form-cell">
                                <div class="cell">
                                    <label>Instrutions:</label>
                                    <app-input [ipConfig]="instructionsConfig" (outputEmit)="''"></app-input>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="submit-form">
                    <app-button [btntext]="'Submit'" [btnConfig]="textBtnConfig2" (click)="submit()"></app-button>
                </div>
                <br>

                <br>
            </div>
        </div>
    </div>
</div>